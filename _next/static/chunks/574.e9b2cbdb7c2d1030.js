(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{6192:function(e,a,n){"use strict";n.r(a),n.d(a,{LOAD_AGENT:function(){return v},UNLOAD_AGENT:function(){return p}});var t=n(2678),o=n(8564),l=n(2267),r=n(5766),i=n(8007),s=n(3304),d=n(5893),c=n(7294),u=n(3253),m=n(8723),h=n(1866),v="LOAD_AGENT",p="UNLOAD_AGENT",_=function(e){(0,i._)(EmbedPlayer,e);var a=(0,s._)(EmbedPlayer);function EmbedPlayer(e){var n;return(0,o._)(this,EmbedPlayer),(n=a.call(this,e)).state={},n.handleMessage=n.handleMessage.bind((0,t._)(n)),n}return(0,l._)(EmbedPlayer,[{key:"componentDidMount",value:function(){window.PixiMoroxel8AI=h,window.Moroxel8AI=m,window.addEventListener("message",this.handleMessage),document.getElementsByTagName("html")[0].setAttribute("data-theme","embed");var e,a,n=window.frameElement,t=(null!==(e=null==n?void 0:n.getAttribute("allow"))&&void 0!==e?e:"").split(";").map(function(e){return e.trim()}),o=null==n?void 0:n.getAttribute("data-game-id"),l=void 0!==o?"".concat("https://raw.githubusercontent.com/moroboxai/moroboxai-games/master","/").concat(o):null!==(a=null==n?void 0:n.getAttribute("data-game-url"))&&void 0!==a?a:"",r=u.S1({element:document.getElementById("player"),url:l,autoPlay:t.includes("autoplay")});this.setState({player:r})}},{key:"componentWillUnmount",value:function(){var e;window.removeEventListener("message",this.handleMessage),null===(e=this.state.player)||void 0===e||e.remove()}},{key:"handleMessage",value:function(e){var a,n,t,o,l;if(void 0!==e.data.action)switch(e.data.action){case v:void 0!==e.data.code&&(null===(n=this.state.player)||void 0===n||null===(a=n.getController(0))||void 0===a||a.loadAgent({language:null!==(t=e.data.language)&&void 0!==t?t:"javascript",code:e.data.code}));break;case p:null===(l=this.state.player)||void 0===l||null===(o=l.getController(0))||void 0===o||o.unloadAgent()}}},{key:"render",value:function(){return(0,d.jsx)("div",{id:"player"})}}]),EmbedPlayer}(c.Component);(0,r._)(_,"propTypes",void 0),_.propTypes={},a.default=_},1574:function(e,a,n){"use strict";n.r(a);var t=n(8564),o=n(2267),l=n(5766),r=n(8007),i=n(3304),s=n(5893),d=n(7294),c=n(8405),u=n(9523),m=n(2706),h=n.n(m),v=function(e){(0,r._)(Game,e);var a=(0,i._)(Game);function Game(e){return(0,t._)(this,Game),a.call(this,e)}return(0,o._)(Game,[{key:"render",value:function(){var e=this.props,a=e.game,n=e.readme;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"top-section",game:a,agentUrl:"https://raw.githubusercontent.com/moroboxai/moroboxai-games/master/2048/agent.*"}),(0,s.jsx)("div",{className:h().readme,children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col",children:(0,s.jsx)(c.U,{children:n})})})})})]})}}]),Game}(d.Component);(0,l._)(v,"propTypes",void 0),v.propTypes={},a.default=v},9523:function(e,a,n){"use strict";var t=n(2678),o=n(8564),l=n(2267),r=n(5766),i=n(8007),s=n(3304),d=n(5893),c=n(7294),u=n(4964),m=n(6064),h=n(6192),v=n(3406),p=n.n(v),_=(0,m.$j)(function(e){return{}},function(e){return{}},null,{forwardRef:!0}),y=function(e){(0,i._)(PlayerSection,e);var a=(0,s._)(PlayerSection);function PlayerSection(e){var n;return(0,o._)(this,PlayerSection),n=a.call(this,e),(0,r._)((0,t._)(n),"_refIframe",void 0),n.state={},n.handleMount=n.handleMount.bind((0,t._)(n)),n.handleUnmount=n.handleUnmount.bind((0,t._)(n)),n.handleLoad=n.handleLoad.bind((0,t._)(n)),n.handleUnload=n.handleUnload.bind((0,t._)(n)),n._refIframe=c.createRef(),n}return(0,l._)(PlayerSection,[{key:"handleMount",value:function(e){console.log("player mounted"),this.setState({player:e})}},{key:"handleUnmount",value:function(e){console.log("player unmounted"),this.setState({player:void 0})}},{key:"handleLoad",value:function(e,a){var n,t;null===(t=this._refIframe.current)||void 0===t||null===(n=t.contentWindow)||void 0===n||n.postMessage({action:h.LOAD_AGENT,language:e,code:a})}},{key:"handleUnload",value:function(){var e,a;null===(a=this._refIframe.current)||void 0===a||null===(e=a.contentWindow)||void 0===e||e.postMessage({action:h.UNLOAD_AGENT})}},{key:"render",value:function(){var e=this.props,a=e.className,n=e.game,t=e.agentUrl;return(0,d.jsx)("div",{className:[p().section,a,"vertical"].join(" "),children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"row justify-content-center align-items-center gy-4 m-auto",children:[(0,d.jsx)("div",{className:"col-12 col-sm-auto",children:(0,d.jsx)("div",{className:p().player,children:(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{ref:this._refIframe,src:"/embed/player","data-game-id":n.id,allow:"autoplay",width:n.width/n.scale,style:{aspectRatio:"".concat(n.width,"/").concat(n.height)}})})})}),(0,d.jsx)("div",{className:"col-12 col-lg-6",children:(0,d.jsx)(u.ZP,{className:p().editor,url:t,width:"100%",height:"500px",onLoad:this.handleLoad,onUnload:this.handleUnload})})]})})})}}]),PlayerSection}(c.Component);(0,r._)(y,"propTypes",void 0),y.propTypes={},a.Z=_(y)},2706:function(e){e.exports={readme:"Game_readme__J_Y4e"}},3406:function(e){e.exports={h100:"PlayerSection_h100__1iTXO",vertical:"PlayerSection_vertical__WnDbr",horizontal:"PlayerSection_horizontal__spIs7",section:"PlayerSection_section__z0N1o",player:"PlayerSection_player__cKcgY","mai-player":"PlayerSection_mai-player__c2uEr",editor:"PlayerSection_editor__EpEtv"}}}]);