(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{6427:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return U}});var t=o(8564),a=o(2267),l=o(5766),r=o(8007),i=o(3304),c=o(5893),u=o(7294),d=o(2678),s=o(6396),h=o(4964),m=o(8723),p=o(6064),_=o(243),y=o(3257),v=o(1272),f=o(3406),g=o.n(f),b="https://raw.githubusercontent.com/moroboxai/moroboxai-games/master/games.yml",P=(0,p.$j)(function(e){return{games:(0,y.m7)(e),selectedGame:(0,y.KF)(e)}},function(e){return{gamesDbLoaded:(0,_.uu)(e),selectGame:(0,_.Y9)(e)}},null,{forwardRef:!0}),S=function(e){(0,r._)(PlayerSection,e);var n=(0,i._)(PlayerSection);function PlayerSection(e){var o;return(0,t._)(this,PlayerSection),(o=n.call(this,e)).state={},o.handleMount=o.handleMount.bind((0,d._)(o)),o.handleUnmount=o.handleUnmount.bind((0,d._)(o)),o.handleSelectGame=o.handleSelectGame.bind((0,d._)(o)),o.handleLoad=o.handleLoad.bind((0,d._)(o)),o.handleUnload=o.handleUnload.bind((0,d._)(o)),o}return(0,a._)(PlayerSection,[{key:"componentDidMount",value:function(){var e=this;if(void 0===b){console.error("REACT_APP_URL_GAMES_YML undefined");return}fetch(b).then(function(e){return e.text()}).then(function(e){return v.ZP.load(e)}).then(function(n){if(null===n||"object"!=typeof n)throw"Invalid data";console.log("Games db loaded",n),e.props.gamesDbLoaded(n)}).catch(function(e){return console.log(e)})}},{key:"handleMount",value:function(e){console.log("player mounted"),this.setState({player:e})}},{key:"handleUnmount",value:function(e){console.log("player unmounted"),this.setState({player:void 0})}},{key:"handleSelectGame",value:function(e){console.log("select game",e.target.value),this.props.selectGame(e.target.value)}},{key:"handleLoad",value:function(e,n){var o,t;console.log("load",e,n),null===(t=this.state.player)||void 0===t||null===(o=t.getController(0))||void 0===o||o.loadAgent({language:e,code:n})}},{key:"handleUnload",value:function(){var e,n;null===(n=this.state.player)||void 0===n||null===(e=n.getController(0))||void 0===e||e.unloadAgent()}},{key:"render",value:function(){return(0,c.jsx)("div",{className:g().section+" vertical",children:(0,c.jsxs)("div",{className:"horizontal",children:[(0,c.jsx)("div",{className:g().player,children:(0,c.jsx)("div",{children:(0,c.jsx)(s.ZP,{url:"https://raw.githubusercontent.com/moroboxai/moroboxai-games/master/pong/header.yml",boot:m,width:513,height:384,scale:1.5,autoPlay:!0,onMount:this.handleMount,onUnmount:this.handleUnmount})})}),(0,c.jsx)("div",{children:(0,c.jsx)(h.ZP,{className:g().editor,url:"https://raw.githubusercontent.com/moroboxai/moroboxai-games/master/pong/agent.*",width:"500px",height:"500px",onLoad:this.handleLoad,onUnload:this.handleUnload})})]})})}}]),PlayerSection}(u.Component);(0,l._)(S,"propTypes",void 0),S.propTypes={};var x=P(S),k=function(e){(0,r._)(Home,e);var n=(0,i._)(Home);function Home(e){return(0,t._)(this,Home),n.call(this,e)}return(0,a._)(Home,[{key:"render",value:function(){return(0,c.jsx)(x,{})}}]),Home}(u.Component);(0,l._)(k,"propTypes",void 0),k.propTypes={};var U=k},3406:function(e){e.exports={h100:"PlayerSection_h100__1iTXO",vertical:"PlayerSection_vertical__WnDbr",horizontal:"PlayerSection_horizontal__spIs7",section:"PlayerSection_section__z0N1o",player:"PlayerSection_player__cKcgY","mai-player":"PlayerSection_mai-player__c2uEr",editor:"PlayerSection_editor__EpEtv"}}}]);