(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{8878:function(e,n,t){"use strict";t.r(n),t.d(n,{LOAD_AGENT:function(){return _},UNLOAD_AGENT:function(){return p}});var a=t(2678),o=t(8564),l=t(2267),i=t(5766),r=t(8007),s=t(3304),d=t(5893),c=t(7294),u=t(6396),h=t(8723),m=t(1866),_="LOAD_AGENT",p="UNLOAD_AGENT",v=function(e){(0,r._)(Game,e);var n=(0,s._)(Game);function Game(e){var t;return(0,o._)(this,Game),(t=n.call(this,e)).state={},t.handleMount=t.handleMount.bind((0,a._)(t)),t.handleUnmount=t.handleUnmount.bind((0,a._)(t)),t.handleMessage=t.handleMessage.bind((0,a._)(t)),t}return(0,l._)(Game,[{key:"componentDidMount",value:function(){window.PixiMoroxel8AI=m,window.Moroxel8AI=h,window.addEventListener("message",this.handleMessage),document.getElementsByTagName("html")[0].setAttribute("data-theme","embed")}},{key:"handleMount",value:function(e){console.log("player mounted"),this.setState({player:e})}},{key:"handleUnmount",value:function(e){console.log("player unmounted"),this.setState({player:void 0})}},{key:"handleMessage",value:function(e){var n,t,a,o,l;if(void 0!==e.data.action)switch(e.data.action){case _:void 0!==e.data.code&&(null===(t=this.state.player)||void 0===t||null===(n=t.getController(0))||void 0===n||n.loadAgent({language:null!==(a=e.data.language)&&void 0!==a?a:"javascript",code:e.data.code}));break;case p:null===(l=this.state.player)||void 0===l||null===(o=l.getController(0))||void 0===o||o.unloadAgent()}}},{key:"render",value:function(){return(0,d.jsx)(u.ZP,{url:this.props.url,autoPlay:!1,onMount:this.handleMount,onUnmount:this.handleUnmount})}}]),Game}(c.Component);(0,i._)(v,"propTypes",void 0),v.propTypes={},n.default=v},7502:function(e,n,t){"use strict";t.r(n);var a=t(8564),o=t(2267),l=t(5766),i=t(8007),r=t(3304),s=t(5893),d=t(7294),c=t(9523),u=function(e){(0,i._)(Home,e);var n=(0,r._)(Home);function Home(e){return(0,a._)(this,Home),n.call(this,e)}return(0,o._)(Home,[{key:"render",value:function(){return console.log(this.props.game),(0,s.jsx)(c.Z,{className:"top-section",game:this.props.game,agentUrl:"https://raw.githubusercontent.com/moroboxai/moroboxai-games/master/pong/agent.*"})}}]),Home}(d.Component);(0,l._)(u,"propTypes",void 0),u.propTypes={},n.default=u},9523:function(e,n,t){"use strict";var a=t(2678),o=t(8564),l=t(2267),i=t(5766),r=t(8007),s=t(3304),d=t(5893),c=t(7294),u=t(4964),h=t(6064),m=t(8878),_=t(3406),p=t.n(_),v=(0,h.$j)(function(e){return{}},function(e){return{}},null,{forwardRef:!0}),y=function(e){(0,r._)(PlayerSection,e);var n=(0,s._)(PlayerSection);function PlayerSection(e){var t;return(0,o._)(this,PlayerSection),t=n.call(this,e),(0,i._)((0,a._)(t),"_refIframe",void 0),t.state={},t.handleMount=t.handleMount.bind((0,a._)(t)),t.handleUnmount=t.handleUnmount.bind((0,a._)(t)),t.handleLoad=t.handleLoad.bind((0,a._)(t)),t.handleUnload=t.handleUnload.bind((0,a._)(t)),t._refIframe=c.createRef(),t}return(0,l._)(PlayerSection,[{key:"handleMount",value:function(e){console.log("player mounted"),this.setState({player:e})}},{key:"handleUnmount",value:function(e){console.log("player unmounted"),this.setState({player:void 0})}},{key:"handleLoad",value:function(e,n){var t,a;null===(a=this._refIframe.current)||void 0===a||null===(t=a.contentWindow)||void 0===t||t.postMessage({action:m.LOAD_AGENT,language:e,code:n})}},{key:"handleUnload",value:function(){var e,n;null===(n=this._refIframe.current)||void 0===n||null===(e=n.contentWindow)||void 0===e||e.postMessage({action:m.UNLOAD_AGENT})}},{key:"render",value:function(){var e=this.props,n=e.className,t=e.game,a=e.agentUrl;return(0,d.jsx)("div",{className:[p().section,n,"vertical"].join(" "),children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"row justify-content-center align-items-center gy-4",children:[(0,d.jsx)("div",{className:"col-12 col-sm-auto",children:(0,d.jsx)("div",{className:p().player,children:(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{ref:this._refIframe,src:"/embed/game/".concat(t.id),width:t.width/t.scale,style:{aspectRatio:"".concat(t.width,"/").concat(t.height)}})})})}),(0,d.jsx)("div",{className:"col-12 col-lg-6",children:(0,d.jsx)(u.ZP,{className:p().editor,url:a,width:"100%",height:"500px",onLoad:this.handleLoad,onUnload:this.handleUnload})})]})})})}}]),PlayerSection}(c.Component);(0,i._)(y,"propTypes",void 0),y.propTypes={},n.Z=v(y)},3406:function(e){e.exports={h100:"PlayerSection_h100__1iTXO",vertical:"PlayerSection_vertical__WnDbr",horizontal:"PlayerSection_horizontal__spIs7",section:"PlayerSection_section__z0N1o",player:"PlayerSection_player__cKcgY","mai-player":"PlayerSection_mai-player__c2uEr",editor:"PlayerSection_editor__EpEtv"}}}]);