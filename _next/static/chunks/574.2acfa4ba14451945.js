(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{8878:function(e,n,a){"use strict";a.r(n),a.d(n,{LOAD_AGENT:function(){return _},UNLOAD_AGENT:function(){return v}});var t=a(2678),o=a(8564),l=a(2267),i=a(5766),r=a(8007),s=a(3304),d=a(5893),c=a(7294),u=a(6396),h=a(8723),m=a(1866),_="LOAD_AGENT",v="UNLOAD_AGENT",p=function(e){(0,r._)(Game,e);var n=(0,s._)(Game);function Game(e){var a;return(0,o._)(this,Game),(a=n.call(this,e)).state={},a.handleMount=a.handleMount.bind((0,t._)(a)),a.handleUnmount=a.handleUnmount.bind((0,t._)(a)),a.handleMessage=a.handleMessage.bind((0,t._)(a)),a}return(0,l._)(Game,[{key:"componentDidMount",value:function(){window.PixiMoroxel8AI=m,window.Moroxel8AI=h,window.addEventListener("message",this.handleMessage),document.getElementsByTagName("html")[0].setAttribute("data-theme","embed")}},{key:"handleMount",value:function(e){console.log("player mounted"),this.setState({player:e})}},{key:"handleUnmount",value:function(e){console.log("player unmounted"),this.setState({player:void 0})}},{key:"handleMessage",value:function(e){var n,a,t,o,l;if(void 0!==e.data.action)switch(e.data.action){case _:void 0!==e.data.code&&(null===(a=this.state.player)||void 0===a||null===(n=a.getController(0))||void 0===n||n.loadAgent({language:null!==(t=e.data.language)&&void 0!==t?t:"javascript",code:e.data.code}));break;case v:null===(l=this.state.player)||void 0===l||null===(o=l.getController(0))||void 0===o||o.unloadAgent()}}},{key:"render",value:function(){return(0,d.jsx)(u.ZP,{url:this.props.url,autoPlay:!1,onMount:this.handleMount,onUnmount:this.handleUnmount})}}]),Game}(c.Component);(0,i._)(p,"propTypes",void 0),p.propTypes={},n.default=p},1574:function(e,n,a){"use strict";a.r(n);var t=a(8564),o=a(2267),l=a(5766),i=a(8007),r=a(3304),s=a(5893),d=a(7294),c=a(8405),u=a(9523),h=a(2706),m=a.n(h),_=function(e){(0,i._)(Game,e);var n=(0,r._)(Game);function Game(e){return(0,t._)(this,Game),n.call(this,e)}return(0,o._)(Game,[{key:"render",value:function(){var e=this.props,n=e.game,a=e.readme;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"top-section",game:n,agentUrl:"https://raw.githubusercontent.com/moroboxai/moroboxai-games/master/2048/agent.*"}),(0,s.jsx)("div",{className:m().readme,children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col",children:(0,s.jsx)(c.U,{children:a})})})})})]})}}]),Game}(d.Component);(0,l._)(_,"propTypes",void 0),_.propTypes={},n.default=_},9523:function(e,n,a){"use strict";var t=a(2678),o=a(8564),l=a(2267),i=a(5766),r=a(8007),s=a(3304),d=a(5893),c=a(7294),u=a(4964),h=a(6064),m=a(8878),_=a(3406),v=a.n(_),p=(0,h.$j)(function(e){return{}},function(e){return{}},null,{forwardRef:!0}),y=function(e){(0,r._)(PlayerSection,e);var n=(0,s._)(PlayerSection);function PlayerSection(e){var a;return(0,o._)(this,PlayerSection),a=n.call(this,e),(0,i._)((0,t._)(a),"_refIframe",void 0),a.state={},a.handleMount=a.handleMount.bind((0,t._)(a)),a.handleUnmount=a.handleUnmount.bind((0,t._)(a)),a.handleLoad=a.handleLoad.bind((0,t._)(a)),a.handleUnload=a.handleUnload.bind((0,t._)(a)),a._refIframe=c.createRef(),a}return(0,l._)(PlayerSection,[{key:"handleMount",value:function(e){console.log("player mounted"),this.setState({player:e})}},{key:"handleUnmount",value:function(e){console.log("player unmounted"),this.setState({player:void 0})}},{key:"handleLoad",value:function(e,n){var a,t;null===(t=this._refIframe.current)||void 0===t||null===(a=t.contentWindow)||void 0===a||a.postMessage({action:m.LOAD_AGENT,language:e,code:n})}},{key:"handleUnload",value:function(){var e,n;null===(n=this._refIframe.current)||void 0===n||null===(e=n.contentWindow)||void 0===e||e.postMessage({action:m.UNLOAD_AGENT})}},{key:"render",value:function(){var e=this.props,n=e.className,a=e.game,t=e.agentUrl;return(0,d.jsx)("div",{className:[v().section,n,"vertical"].join(" "),children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"row justify-content-center align-items-center gy-4",children:[(0,d.jsx)("div",{className:"col-12 col-sm-auto",children:(0,d.jsx)("div",{className:v().player,children:(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{ref:this._refIframe,src:"/embed/game/".concat(a.id),width:a.width/a.scale,style:{aspectRatio:"".concat(a.width,"/").concat(a.height)}})})})}),(0,d.jsx)("div",{className:"col-12 col-lg-6",children:(0,d.jsx)(u.ZP,{className:v().editor,url:t,width:"100%",height:"500px",onLoad:this.handleLoad,onUnload:this.handleUnload})})]})})})}}]),PlayerSection}(c.Component);(0,i._)(y,"propTypes",void 0),y.propTypes={},n.Z=p(y)},2706:function(e){e.exports={readme:"Game_readme__J_Y4e"}},3406:function(e){e.exports={h100:"PlayerSection_h100__1iTXO",vertical:"PlayerSection_vertical__WnDbr",horizontal:"PlayerSection_horizontal__spIs7",section:"PlayerSection_section__z0N1o",player:"PlayerSection_player__cKcgY","mai-player":"PlayerSection_mai-player__c2uEr",editor:"PlayerSection_editor__EpEtv"}}}]);